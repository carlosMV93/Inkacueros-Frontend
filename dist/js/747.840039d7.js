"use strict";(self["webpackChunktemplate_vue_platform"]=self["webpackChunktemplate_vue_platform"]||[]).push([[747],{6365:function(e,n,t){t.d(n,{lx:function(){return i},su:function(){return r},xy:function(){return s}});var a=t(1076);const o="http://67.207.87.64:8080/api";function r(e){return a.Z.post(`${o}/create_user`,e)}function i(e){return a.Z.post(`${o}/validate_user`,e)}function s(e){return a.Z.post(`${o}/change-password`,e)}},3512:function(e,n,t){t.d(n,{y:function(){return r}});var a=t(2492),o=t.n(a);function r(e,n,t,a){o().fire({icon:n,html:`<p class="text-lg font-semibold">${t}</p>\n          <p class="text-base">${a}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((n=>{n.isConfirmed&&e()}))}},4511:function(e,n,t){t.d(n,{R:function(){return o}});var a=t(3512);function o(e){e&&400===e.status?(0,a.y)((()=>{}),"error","Solicitud incorrecta","Los datos proporcionados no son válidos"):(0,a.y)((()=>{}),"error","Error de conexión","Hubo un problema de conexión")}},7747:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(3396),o=t(870),r=t(5039),i=t(1888),s=t(3601),l=t(7325),u=t(5869);const c={class:"w-full h-full flex justify-center items-center"},d={class:"flex justify-center"},m=(0,a._)("div",{class:"text-subtitle-1 text-medium-emphasis"},"Usuario",-1),p=(0,a._)("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Contraseña Actual ",-1),f=(0,a._)("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"}," Nueva Contraseña ",-1);function v(e,n,t,v,w,b){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",c,[(0,a.Wm)(r._,{class:"mx-auto pa-12 pb-8",elevation:"8","min-width":"448","max-width":"600",rounded:"lg"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(o.T,{icon:"mdi mdi-key-change",variant:"tonal",color:"indigo"})]),m,(0,a.Wm)(u.h,{density:"compact",placeholder:"Ingrese su usuario","prepend-inner-icon":"mdi-account",variant:"outlined",color:"brown-darken-1",modelValue:v.forgetusername,"onUpdate:modelValue":n[0]||(n[0]=e=>v.forgetusername=e)},null,8,["modelValue"]),p,(0,a.Wm)(u.h,{"append-inner-icon":e.visible?"mdi-eye-off":"mdi-eye",type:e.visible?"text":"password",density:"compact",placeholder:"Ingrese su contraseña actual","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",color:"brown-darken-1",modelValue:v.forgetLastPassword,"onUpdate:modelValue":n[1]||(n[1]=e=>v.forgetLastPassword=e),"onClick:appendInner":n[2]||(n[2]=n=>e.visible=!e.visible)},null,8,["append-inner-icon","type","modelValue"]),f,(0,a.Wm)(u.h,{"append-inner-icon":e.visible2?"mdi-eye-off":"mdi-eye",type:e.visible2?"text":"password",density:"compact",placeholder:"Ingrese su nueva contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",color:"brown-darken-1",modelValue:v.forgetNewPassword,"onUpdate:modelValue":n[3]||(n[3]=e=>v.forgetNewPassword=e),"onClick:appendInner":n[4]||(n[4]=n=>e.visible2=!e.visible2)},null,8,["append-inner-icon","type","modelValue"]),(0,a.Wm)(o.T,{class:"mb-8",color:"brown-darken-1",size:"large",variant:"tonal",block:"",onClick:v.changePassword},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cambiar contraseña ")])),_:1},8,["onClick"])])),_:1})]),(0,a.Wm)(s.B,{modelValue:v.dialogLoader,"onUpdate:modelValue":n[5]||(n[5]=e=>v.dialogLoader=e),scrim:!1,persistent:"",width:"auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{color:"brown-darken-1"},{default:(0,a.w5)((()=>[(0,a.Wm)(i.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Procesando... "),(0,a.Wm)(l.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}t(560);var w=t(4870),b=t(2483),g=t(6365),h=t(4511),y=t(3512),x=t(4239),_={data:()=>({visible:!1,visible2:!1}),setup(){const e=(0,b.tv)(),n=(0,w.iH)(""),t=(0,w.iH)(""),a=(0,w.iH)(""),o=(0,w.iH)(!1),r=()=>{if(o.value=!0,t.value!=a.value){const r={username:n.value,last_password:t.value,new_password:a.value};(0,g.xy)(r).then((()=>{o.value=!1,(0,y.y)((()=>{x.Z.commit("setEmail",""),x.Z.commit("setUsername",""),x.Z.commit("setRole",""),x.Z.commit("setIsAuthenticated",!1),e.push("/login")}),"success","Logrado","Se ha cambiado correctamente la contraseña")})).catch((e=>{o.value=!1,(0,h.R)(e.response)}))}else o.value=!1,(0,y.y)((()=>{}),"warning","Advertencia","Las contraseñas son iguales")};return{changePassword:r,forgetusername:n,forgetLastPassword:t,forgetNewPassword:a,dialogLoader:o}}},k=t(89);const C=(0,k.Z)(_,[["render",v]]);var V=C}}]);
//# sourceMappingURL=747.840039d7.js.map