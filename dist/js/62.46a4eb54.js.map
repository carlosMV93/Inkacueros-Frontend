{"version":3,"file":"js/62.46a4eb54.js","mappings":"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","sources":["webpack://template_vue_platform/./src/api/UsersService.js","webpack://template_vue_platform/./src/helpers/SweetAlert.js","webpack://template_vue_platform/./src/helpers/Validators.js","webpack://template_vue_platform/./src/views/LoginView.vue","webpack://template_vue_platform/./src/views/LoginView.vue?5755"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function createUserApi(data) {\r\n  return axios.post(`${baseURL}/create_user`, data);\r\n}\r\n\r\nexport function loginApi(data) {\r\n  return axios.post(`${baseURL}/validate_user`, data);\r\n}\r\n\r\nexport function forgetPasswordApi(data) {\r\n  return axios.post(`${baseURL}/change-password`, data);\r\n}\r\n","import Swal from 'sweetalert2';\r\n// Icon: warning, success, error, question, info\r\n\r\nexport function basicAlert(callback, icon, title, message) {\r\n  Swal.fire({\r\n    icon: icon,\r\n    html: `<p class=\"text-lg font-semibold\">${title}</p>\r\n          <p class=\"text-base\">${message}</p>`,\r\n    showCancelButton: false,\r\n    confirmButtonText: 'Aceptar',\r\n    confirmButtonColor: '#006cac',\r\n    reverseButtons: true\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nexport function confirmBasic(callback, message, confirm) {\r\n  Swal.fire({\r\n    icon: 'question',\r\n    html: `<p class=\"text-lg\">${message}</p>`,\r\n    showCancelButton: true,\r\n    reverseButtons: true,\r\n    confirmButtonText: confirm,\r\n    confirmButtonColor: '#3b82f6',\r\n    cancelButtonText: 'Cancelar'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n","import { basicAlert } from '@/helpers/SweetAlert';\r\n\r\nexport function validateError(response){\r\n    if (response) {\r\n        if (response.status === 400) {\r\n            basicAlert(() => { }, 'error', 'Solicitud incorrecta', 'Los datos proporcionados no son válidos');\r\n        } else {\r\n            basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n        }\r\n    } else {\r\n        basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n    }\r\n}","<template>\r\n  <div class=\"w-full h-full flex justify-center items-center\">\r\n    <div class=\"pb-10\" v-if=\"typeForm == 'LOGIN'\">\r\n      <v-card class=\"mx-auto pa-12 pb-8\" elevation=\"8\" min-width=\"448\" max-width=\"600\" rounded=\"lg\">\r\n        <div class=\"flex justify-center\">\r\n          <v-btn icon=\"mdi mdi-lock\" variant=\"tonal\" color=\"indigo\"></v-btn>\r\n        </div>\r\n        <div class=\"text-subtitle-1 text-medium-emphasis\">Usuario</div>\r\n\r\n        <v-text-field density=\"compact\" placeholder=\"Ingrese su usuario\" prepend-inner-icon=\"mdi-account\"\r\n          variant=\"outlined\" color=\"brown-darken-1\" v-model=\"username\"></v-text-field>\r\n\r\n        <div class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\">\r\n          Contraseña\r\n        </div>\r\n\r\n        <v-text-field :append-inner-icon=\"visible ? 'mdi-eye-off' : 'mdi-eye'\" :type=\"visible ? 'text' : 'password'\"\r\n          density=\"compact\" placeholder=\"Ingrese su contraseña\" prepend-inner-icon=\"mdi-lock-outline\" variant=\"outlined\"\r\n          color=\"brown-darken-1\" v-model=\"password\" @click:append-inner=\"visible = !visible\"></v-text-field>\r\n\r\n        <v-btn class=\"mb-8\" color=\"brown-darken-1\" size=\"large\" variant=\"tonal\" block @click=\"validateCredentials\">\r\n          Ingresar\r\n        </v-btn>\r\n\r\n        <v-card-text class=\"text-center\">\r\n          <router-link to=\"/register\" class=\"item-nav\" href=\"/register\">\r\n            <a class=\"text-brown text-decoration-none\" href=\"#\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n              Registrarse <v-icon icon=\"mdi-chevron-right\"></v-icon>\r\n            </a>\r\n          </router-link>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n    <div class=\"pb-10\" v-else-if=\"typeForm == 'FORGET'\">\r\n      <v-card class=\"mx-auto pa-12 pb-8\" elevation=\"8\" min-width=\"448\" max-width=\"600\" rounded=\"lg\">\r\n        <div class=\"flex justify-center\">\r\n          <v-btn icon=\"mdi mdi-key-change\" variant=\"tonal\" color=\"indigo\"></v-btn>\r\n        </div>\r\n        <div class=\"text-subtitle-1 text-medium-emphasis\">Usuario</div>\r\n\r\n        <v-text-field density=\"compact\" placeholder=\"Ingrese su usuario\" prepend-inner-icon=\"mdi-account\"\r\n          variant=\"outlined\" color=\"brown-darken-1\" v-model=\"forgetusername\"></v-text-field>\r\n\r\n        <div class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\">\r\n          Nueva Contraseña\r\n        </div>\r\n\r\n        <v-text-field :append-inner-icon=\"visible ? 'mdi-eye-off' : 'mdi-eye'\" :type=\"visible ? 'text' : 'password'\"\r\n          density=\"compact\" placeholder=\"Ingrese su contraseña\" prepend-inner-icon=\"mdi-lock-outline\" variant=\"outlined\"\r\n          color=\"brown-darken-1\" v-model=\"forgetpassword\" @click:append-inner=\"visible = !visible\"></v-text-field>\r\n\r\n        <v-btn class=\"mb-8\" color=\"brown-darken-1\" size=\"large\" variant=\"tonal\" block @click=\"changePassword\">\r\n          Cambiar contraseña\r\n        </v-btn>\r\n\r\n        <v-card-text class=\"text-center\">\r\n          <span class=\"text-brown text-decoration-none cursor-pointer\" @click=\"selectTypeForm('LOGIN')\">\r\n            <v-icon icon=\"mdi-chevron-left\"></v-icon> Login\r\n          </span>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n  <v-dialog v-model=\"dialogLoader\" :scrim=\"false\" persistent width=\"auto\">\r\n    <v-card color=\"brown-darken-1\">\r\n      <v-card-text>\r\n        Procesando...\r\n        <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { forgetPasswordApi, loginApi } from \"@/api/UsersService\";\r\nimport { validateError } from \"@/helpers/Validators\";\r\nimport store from \"@/store\";\r\nimport { ref } from \"vue\";\r\nimport { basicAlert } from \"@/helpers/SweetAlert\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    visible: false,\r\n  }),\r\n  setup() {\r\n    const router = useRouter();\r\n    const username = ref(\"\");\r\n    const password = ref(\"\");\r\n    const forgetusername = ref(\"\");\r\n    const forgetpassword = ref(\"\");\r\n    const dialogLoader = ref(false);\r\n    const typeForm = ref(\"LOGIN\");\r\n\r\n    const selectTypeForm = (type) => {\r\n      typeForm.value = type;\r\n    };\r\n\r\n    const validateCredentials = () => {\r\n      dialogLoader.value = true;\r\n      const data = {\r\n        username: username.value,\r\n        password: password.value,\r\n      };\r\n      loginApi(data)\r\n        .then((response) => {\r\n          console.log(response.data)\r\n          dialogLoader.value = false;\r\n          store.commit(\"setEmail\", response.data.email);\r\n          store.commit(\"setUsername\", response.data.username);\r\n          store.commit(\"setUserId\", response.data.idUser);\r\n          store.commit(\"setRole\", response.data.admin ? \"ADMIN\" : \"CLIENT\");\r\n          store.commit(\"setIsAuthenticated\", true);\r\n          router.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          dialogLoader.value = false;\r\n          validateError(error.response);\r\n        });\r\n    };\r\n\r\n    const changePassword = () => {\r\n      dialogLoader.value = true;\r\n      const data = {\r\n        username: forgetusername.value,\r\n        new_password: forgetpassword.value\r\n      }\r\n      forgetPasswordApi(data)\r\n        .then(() => {\r\n          dialogLoader.value = false;\r\n          basicAlert(\r\n            () => { typeForm.value = \"LOGIN\" },\r\n            \"success\",\r\n            \"Logrado\",\r\n            \"Se ha cambiado correctamente la contraseña\"\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          dialogLoader.value = false;\r\n          validateError(error.response);\r\n        });\r\n    }\r\n\r\n    return {\r\n      validateCredentials,\r\n      changePassword,\r\n      selectTypeForm,\r\n      forgetusername,\r\n      forgetpassword,\r\n      dialogLoader,\r\n      username,\r\n      password,\r\n      typeForm,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=d6886f8c\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseURL","process","createUserApi","data","axios","post","loginApi","forgetPasswordApi","basicAlert","callback","icon","title","message","Swal","html","showCancelButton","confirmButtonText","confirmButtonColor","reverseButtons","then","result","isConfirmed","validateError","response","status","class","_createElementVNode","href","rel","target","_hoisted_1","$setup","typeForm","_createElementBlock","_hoisted_2","_createVNode","_component_v_card","elevation","rounded","_hoisted_3","_component_v_btn","variant","color","_hoisted_4","_component_v_text_field","density","placeholder","username","$event","_hoisted_5","_ctx","visible","type","password","_cache","size","block","onClick","validateCredentials","_component_v_card_text","_component_router_link","to","_hoisted_6","_component_v_icon","_hoisted_7","_hoisted_8","_hoisted_9","forgetusername","_hoisted_10","forgetpassword","changePassword","selectTypeForm","_component_v_dialog","dialogLoader","scrim","persistent","width","_component_v_progress_linear","indeterminate","setup","router","useRouter","ref","value","console","log","store","commit","email","idUser","admin","push","catch","error","new_password","__exports__","render"],"sourceRoot":""}