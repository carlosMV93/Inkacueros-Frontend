"use strict";(self["webpackChunktemplate_vue_platform"]=self["webpackChunktemplate_vue_platform"]||[]).push([[860],{3512:function(e,l,t){t.d(l,{y:function(){return n}});var i=t(2492),o=t.n(i);function n(e,l,t,i){o().fire({icon:l,html:`<p class="text-lg font-semibold">${t}</p>\n          <p class="text-base">${i}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((l=>{l.isConfirmed&&e()}))}},992:function(e,l,t){t.d(l,{Z:function(){return g}});var i=t(3396);const o=["src"],n=["src"],a=["src"],d=["src"];function r(e,l,t,r,s,u){return 1==t.product.id?((0,i.wg)(),(0,i.iD)("img",{key:0,src:s.producto1,alt:"",class:"w-full"},null,8,o)):2==t.product.id?((0,i.wg)(),(0,i.iD)("img",{key:1,src:s.producto2,alt:"",class:"w-full"},null,8,n)):5==t.product.id?((0,i.wg)(),(0,i.iD)("img",{key:2,src:s.producto3,alt:"",class:"w-full"},null,8,a)):6==t.product.id?((0,i.wg)(),(0,i.iD)("img",{key:3,src:s.producto4,alt:"",class:"w-full"},null,8,d)):(0,i.kq)("",!0)}var s=t(7305),u=t(404),c=t(6270),m=t(8449),v={props:{product:Object},data(){return{producto1:s,producto2:u,producto3:c,producto4:m}}},p=t(89);const f=(0,p.Z)(v,[["render",r]]);var g=f},3860:function(e,l,t){t.r(l),t.d(l,{default:function(){return _e}});var i=t(3396),o=t(7139),n=t(870),a=t(5039),d=t(1888),r=t(3601),s=t(7325),u=t(1231),c=t(5869),m=t(9166),v=t(6107),p=t(9694),f=t(1629),g=t(1138),y=t(5935),_=t(4870),b=t(3766),h=t(1107),C=t(9888),w=t(131);const V=(0,b.U)({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>null==e||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...(0,m.l)(),...(0,p.f)(),...(0,g.Q)(),...(0,y.x$)()},"VTimeline"),k=(0,h.ev)()({name:"VTimeline",props:V(),setup(e,l){let{slots:t}=l;const{themeClasses:o}=(0,y.ER)(e),{densityClasses:n}=(0,p.t)(e),{rtlClasses:a}=(0,f.Vw)();(0,v.AF)({VTimelineDivider:{lineColor:(0,_.Vh)(e,"lineColor")},VTimelineItem:{density:(0,_.Vh)(e,"density"),lineInset:(0,_.Vh)(e,"lineInset")}});const d=(0,i.Fl)((()=>{const l=e.side?e.side:"default"!==e.density?"end":null;return l&&`v-timeline--side-${l}`})),r=(0,i.Fl)((()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}}));return(0,C.L)((()=>(0,i.Wm)(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,r.value,{"v-timeline--inset-line":!!e.lineInset},o.value,n.value,d.value,a.value,e.class],style:[{"--v-timeline-line-thickness":(0,w.kb)(e.lineThickness)},e.style]},t))),{}}});var x=t(836),S=t(3289),W=t(2370),D=t(2465),I=t(4960),z=t(4231),T=t(9374);const U=(0,b.U)({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:I.lE,iconColor:String,lineColor:String,...(0,m.l)(),...(0,z.I)(),...(0,T.Z)(),...(0,D.c)()},"VTimelineDivider"),N=(0,h.ev)()({name:"VTimelineDivider",props:U(),setup(e,l){let{slots:t}=l;const{sizeClasses:o,sizeStyles:n}=(0,T.t)(e,"v-timeline-divider__dot"),{backgroundColorStyles:a,backgroundColorClasses:d}=(0,W.Y5)((0,_.Vh)(e,"dotColor")),{roundedClasses:r}=(0,z.b)(e,"v-timeline-divider__dot"),{elevationClasses:s}=(0,D.Y)(e),{backgroundColorClasses:u,backgroundColorStyles:c}=(0,W.Y5)((0,_.Vh)(e,"lineColor"));return(0,C.L)((()=>(0,i.Wm)("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[(0,i.Wm)("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&(0,i.Wm)("div",{key:"dot",class:["v-timeline-divider__dot",s.value,r.value,o.value],style:n.value},[(0,i.Wm)("div",{class:["v-timeline-divider__inner-dot",d.value,r.value],style:a.value},[t.default?(0,i.Wm)(x.z,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},t.default):(0,i.Wm)(S.t,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),(0,i.Wm)("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)]))),{}}});var F=t(4544);const H=(0,b.U)({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:I.lE,iconColor:String,lineInset:[Number,String],...(0,m.l)(),...(0,F.x)(),...(0,D.c)(),...(0,z.I)(),...(0,T.Z)(),...(0,g.Q)()},"VTimelineItem"),B=(0,h.ev)()({name:"VTimelineItem",props:H(),setup(e,l){let{slots:t}=l;const{dimensionStyles:o}=(0,F.$)(e),n=(0,_.XI)(0),a=(0,_.iH)();return(0,i.YP)(a,(e=>{e&&(n.value=e.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)}),{flush:"post"}),(0,C.L)((()=>(0,i.Wm)("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":(0,w.kb)(n.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${(0,w.kb)(e.lineInset)})`:(0,w.kb)(0)},e.style]},[(0,i.Wm)("div",{class:"v-timeline-item__body",style:o.value},[t.default?.()]),(0,i.Wm)(N,{ref:a,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:t.icon}),"compact"!==e.density&&(0,i.Wm)("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&t.opposite?.()])]))),{}}}),O={class:"flex justify-center items-center p-10"},Z={class:"w-[80%]"},j=(0,i._)("h1",{class:"text-center font-bold text-3xl py-3 text-indigo-500"},"Checkout",-1),P={key:0,class:"px-[5rem] py-10"},R=(0,i._)("p",{class:"font-bold text-gray-500"},"Dirección de envio",-1),$={class:"grid grid-cols-2 gap-5"},L={class:"grid grid-cols-2 gap-5"},E={class:"grid grid-cols-2 gap-5"},Y={class:"flex justify-end"},q={key:1,class:"px-[5rem] py-10"},A=(0,i._)("p",{class:"font-bold text-gray-500"},"Confirma tu pedido",-1),M=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{class:"text-left"},"Imagen"),(0,i._)("th",{class:"text-left"},"Producto"),(0,i._)("th",{class:"text-left"},"Cantidad"),(0,i._)("th",{class:"text-left"},"Subtotal")])],-1),Q={class:"w-[5rem]"},K={class:"flex justify-end w-full"},X={class:"w-[15rem]"},G={class:"pt-3 pb-3"},J={class:"flex flex-col border border-gray-400 rounded-sm"},ee={class:"flex justify-between border-b border-gray-400 p-3"},le=(0,i._)("span",null,"Subtotal",-1),te=(0,i._)("div",{class:"flex justify-between border-b border-gray-500 p-3"},[(0,i._)("span",null,"Envío"),(0,i._)("span",null,"S/. 35")],-1),ie={class:"flex justify-between p-3 font-bold text-gray-500"},oe=(0,i._)("span",null,"Total",-1),ne={class:"flex justify-end gap-3 pt-5"};function ae(e,l,t,m,v,p){const f=(0,i.up)("ImgComponentVue");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",O,[(0,i._)("div",Z,[(0,i.Wm)(a._,{class:"mx-auto shadow-lg w-full"},{default:(0,i.w5)((()=>[j,(0,i.Wm)(k,{direction:"horizontal","line-inset":"12"},{default:(0,i.w5)((()=>[(0,i.Wm)(B,{"dot-color":"DIRECTION"==m.typeForm?"indigo":"grey"},{opposite:(0,i.w5)((()=>[(0,i.Uk)(" Dirección de envio ")])),_:1},8,["dot-color"]),(0,i.Wm)(B,{"dot-color":"CONFIRM"==m.typeForm?"indigo":"grey"},{opposite:(0,i.w5)((()=>[(0,i.Uk)(" Confirma tu pedido ")])),_:1},8,["dot-color"])])),_:1}),"DIRECTION"==m.typeForm?((0,i.wg)(),(0,i.iD)("div",P,[R,(0,i._)("div",$,[(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"Nombre",variant:"underlined",color:"indigo",modelValue:m.name,"onUpdate:modelValue":l[0]||(l[0]=e=>m.name=e)},null,8,["modelValue"])]),(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"Apellidos",variant:"underlined",color:"indigo",modelValue:m.lastName,"onUpdate:modelValue":l[1]||(l[1]=e=>m.lastName=e)},null,8,["modelValue"])])]),(0,i.Wm)(c.h,{label:"Dirección Linea 1",variant:"underlined",color:"indigo",modelValue:m.address1,"onUpdate:modelValue":l[2]||(l[2]=e=>m.address1=e)},null,8,["modelValue"]),(0,i.Wm)(c.h,{label:"Dirección Linea 2",variant:"underlined",color:"indigo",modelValue:m.address2,"onUpdate:modelValue":l[3]||(l[3]=e=>m.address2=e)},null,8,["modelValue"]),(0,i._)("div",L,[(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"Ciudad",variant:"underlined",color:"indigo",modelValue:m.city,"onUpdate:modelValue":l[4]||(l[4]=e=>m.city=e)},null,8,["modelValue"])]),(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"Provincia",variant:"underlined",color:"indigo",modelValue:m.state,"onUpdate:modelValue":l[5]||(l[5]=e=>m.state=e)},null,8,["modelValue"])])]),(0,i._)("div",E,[(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"Codigo postal",variant:"underlined",color:"indigo",modelValue:m.zipcode,"onUpdate:modelValue":l[6]||(l[6]=e=>m.zipcode=e)},null,8,["modelValue"])]),(0,i._)("div",null,[(0,i.Wm)(c.h,{label:"País",variant:"underlined",color:"indigo",modelValue:m.country,"onUpdate:modelValue":l[7]||(l[7]=e=>m.country=e)},null,8,["modelValue"])])]),(0,i._)("div",Y,[(0,i.Wm)(n.T,{size:"small",color:"indigo",onClick:m.nextStage},{default:(0,i.w5)((()=>[(0,i.Uk)("Siguiente")])),_:1},8,["onClick"])])])):(0,i.kq)("",!0),"CONFIRM"==m.typeForm?((0,i.wg)(),(0,i.iD)("div",q,[A,(0,i.Wm)(u.Y,null,{default:(0,i.w5)((()=>[M,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.dataTrolley,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.product.id},[(0,i._)("td",null,[(0,i._)("div",Q,[(0,i.Wm)(f,{product:e.product},null,8,["product"])])]),(0,i._)("td",null,(0,o.zw)(e.product.Name),1),(0,i._)("td",null,(0,o.zw)(e.amount),1),(0,i._)("td",null,(0,o.zw)(e.amount*e.product.Price),1)])))),128))])])),_:1}),(0,i._)("div",K,[(0,i._)("div",X,[(0,i._)("div",G,[(0,i._)("div",J,[(0,i._)("div",ee,[le,(0,i._)("span",null,"S/. "+(0,o.zw)(m.cartSubtotal),1)]),te,(0,i._)("div",ie,[oe,(0,i._)("span",null,"S/."+(0,o.zw)(m.cartSubtotal+35),1)])])])])]),(0,i._)("div",ne,[(0,i.Wm)(n.T,{size:"small",color:"indigo",variant:"tonal",onClick:l[8]||(l[8]=e=>m.typeForm="DIRECTION")},{default:(0,i.w5)((()=>[(0,i.Uk)("Retroceder")])),_:1}),(0,i.Wm)(n.T,{size:"small",color:"indigo",onClick:m.endOrder},{default:(0,i.w5)((()=>[(0,i.Uk)("Realizar orden")])),_:1},8,["onClick"])])])):(0,i.kq)("",!0)])),_:1})])]),(0,i.Wm)(r.B,{modelValue:m.dialogLoader,"onUpdate:modelValue":l[9]||(l[9]=e=>m.dialogLoader=e),scrim:!1,persistent:"",width:"auto"},{default:(0,i.w5)((()=>[(0,i.Wm)(a._,{color:"brown-darken-1"},{default:(0,i.w5)((()=>[(0,i.Wm)(d.Z,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Procesando... "),(0,i.Wm)(s.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}t(560);var de=t(992),re=t(2483),se=t(4239),ue=t(3512),ce=t(1076);const me="http://67.207.87.64:8080/api";function ve(e){return ce.Z.post(`${me}/orders/`,e)}function pe(e){return ce.Z.post(`${me}/order-item-create/`,e)}var fe={components:{ImgComponentVue:de.Z},setup(){const e=(0,re.tv)(),l=(0,_.iH)("DIRECTION"),t=(0,_.iH)([]),o=(0,_.iH)(""),n=(0,_.iH)(""),a=(0,_.iH)(""),d=(0,_.iH)(""),r=(0,_.iH)(""),s=(0,_.iH)(""),u=(0,_.iH)(""),c=(0,_.iH)(""),m=(0,_.iH)(!1);(0,i.bv)((()=>{t.value=se.Z.state.trolley.map((e=>({...e,amount:e.amount||1})))}));const v=(0,i.Fl)((()=>t.value.reduce(((e,l)=>e+l.amount*l.product.Price),0))),p=()=>{""!=o.value&&""!=n.value&&""!=a.value&&""!=d.value&&""!=r.value&&""!=s.value&&""!=u.value&&""!=c.value?l.value="CONFIRM":(0,ue.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},f=async()=>{m.value=!0;const l={Delivery_Fee:"35",Order_Status:"in stock",address1:a.value,address2:d.value,City:r.value,Country:s.value,Name:o.value+" "+n.value,State:u.value,Zipcode:c.value,Sub_Total:t.value.reduce(((e,l)=>e+l.amount*l.product.Price),0)},i=await ve(l);console.log(i.data.id);for(const e of t.value){const l={Name:e.product.Name,Description:"in stock",Price:e.product.Price,PictureUrl:e.product.PictureUrl,IdProduct:e.product.id,IdUser:parseInt(se.Z.state.userId,10),IdOrder:i.data.id,Email:se.Z.state.email,Cantidad:e.amount};await pe(l)}(0,ue.y)((()=>{se.Z.commit("setTrolley",[]),e.push("/products")}),"success","Logrado","Se ha registrado tu orden de compra correctamente"),m.value=!1};return{nextStage:p,endOrder:f,dialogLoader:m,cartSubtotal:v,dataTrolley:t,typeForm:l,name:o,lastName:n,address1:a,address2:d,city:r,country:s,state:u,zipcode:c}}},ge=t(89);const ye=(0,ge.Z)(fe,[["render",ae]]);var _e=ye},7305:function(e,l,t){e.exports=t.p+"img/img1.eccb22b7.png"},404:function(e,l,t){e.exports=t.p+"img/img2.d3fbfa2d.png"},6270:function(e,l,t){e.exports=t.p+"img/img3.7dfbc706.jpg"},8449:function(e,l,t){e.exports=t.p+"img/img4.64cfbde6.jpg"},1231:function(e,l,t){t.d(l,{Y:function(){return v}});var i=t(3396),o=t(9166),n=t(9694),a=t(1138),d=t(5935),r=t(3766),s=t(1107),u=t(9888),c=t(131);const m=(0,r.U)({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...(0,o.l)(),...(0,n.f)(),...(0,a.Q)(),...(0,d.x$)()},"VTable"),v=(0,s.ev)()({name:"VTable",props:m(),setup(e,l){let{slots:t}=l;const{themeClasses:o}=(0,d.ER)(e),{densityClasses:a}=(0,n.t)(e);return(0,u.L)((()=>(0,i.Wm)(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},o.value,a.value,e.class],style:e.style},{default:()=>[t.top?.(),t.default?(0,i.Wm)("div",{class:"v-table__wrapper",style:{height:(0,c.kb)(e.height)}},[(0,i.Wm)("table",null,[t.default()])]):t.wrapper?.(),t.bottom?.()]}))),{}}})}}]);
//# sourceMappingURL=860.b5b1ccc9.js.map