{"version":3,"file":"js/196.1f1b63a0.js","mappings":"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","sources":["webpack://template_vue_platform/./src/api/UsersService.js","webpack://template_vue_platform/./src/helpers/SweetAlert.js","webpack://template_vue_platform/./src/helpers/Validators.js","webpack://template_vue_platform/./src/views/ChangePassword.vue","webpack://template_vue_platform/./src/views/ChangePassword.vue?f5b3"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function createUserApi(data) {\r\n  return axios.post(`${baseURL}/create_user`, data);\r\n}\r\n\r\nexport function loginApi(data) {\r\n  return axios.post(`${baseURL}/validate_user`, data);\r\n}\r\n\r\nexport function forgetPasswordApi(data) {\r\n  return axios.post(`${baseURL}/change-password`, data);\r\n}\r\n","import Swal from 'sweetalert2';\r\n// Icon: warning, success, error, question, info\r\n\r\nexport function basicAlert(callback, icon, title, message) {\r\n  Swal.fire({\r\n    icon: icon,\r\n    html: `<p class=\"text-lg font-semibold\">${title}</p>\r\n          <p class=\"text-base\">${message}</p>`,\r\n    showCancelButton: false,\r\n    confirmButtonText: 'Aceptar',\r\n    confirmButtonColor: '#006cac',\r\n    reverseButtons: true\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nexport function confirmBasic(callback, message, confirm) {\r\n  Swal.fire({\r\n    icon: 'question',\r\n    html: `<p class=\"text-lg\">${message}</p>`,\r\n    showCancelButton: true,\r\n    reverseButtons: true,\r\n    confirmButtonText: confirm,\r\n    confirmButtonColor: '#3b82f6',\r\n    cancelButtonText: 'Cancelar'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n","import { basicAlert } from '@/helpers/SweetAlert';\r\n\r\nexport function validateError(response){\r\n    if (response) {\r\n        if (response.status === 400) {\r\n            basicAlert(() => { }, 'error', 'Solicitud incorrecta', 'Los datos proporcionados no son válidos');\r\n        } else {\r\n            basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n        }\r\n    } else {\r\n        basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n    }\r\n}","<template>\r\n    <div class=\"w-full h-full flex justify-center items-center\">\r\n        <v-card class=\"mx-auto pa-12 pb-8\" elevation=\"8\" min-width=\"448\" max-width=\"600\" rounded=\"lg\">\r\n            <div class=\"flex justify-center\">\r\n                <v-btn icon=\"mdi mdi-key-change\" variant=\"tonal\" color=\"indigo\"></v-btn>\r\n            </div>\r\n            <div class=\"text-subtitle-1 text-medium-emphasis\">Usuario</div>\r\n\r\n            <v-text-field density=\"compact\" placeholder=\"Ingrese su usuario\" prepend-inner-icon=\"mdi-account\"\r\n                variant=\"outlined\" color=\"brown-darken-1\" v-model=\"forgetusername\"></v-text-field>\r\n\r\n            <div class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\">\r\n                Contraseña Actual\r\n            </div>\r\n\r\n            <v-text-field :append-inner-icon=\"visible ? 'mdi-eye-off' : 'mdi-eye'\" :type=\"visible ? 'text' : 'password'\"\r\n                density=\"compact\" placeholder=\"Ingrese su contraseña actual\" prepend-inner-icon=\"mdi-lock-outline\"\r\n                variant=\"outlined\" color=\"brown-darken-1\" v-model=\"forgetLastPassword\"\r\n                @click:append-inner=\"visible = !visible\"></v-text-field>\r\n\r\n            <div class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\">\r\n                Nueva Contraseña\r\n            </div>\r\n\r\n            <v-text-field :append-inner-icon=\"visible2 ? 'mdi-eye-off' : 'mdi-eye'\"\r\n                :type=\"visible2 ? 'text' : 'password'\" density=\"compact\" placeholder=\"Ingrese su nueva contraseña\"\r\n                prepend-inner-icon=\"mdi-lock-outline\" variant=\"outlined\" color=\"brown-darken-1\"\r\n                v-model=\"forgetNewPassword\" @click:append-inner=\"visible2 = !visible2\"></v-text-field>\r\n\r\n            <v-btn class=\"mb-8\" color=\"brown-darken-1\" size=\"large\" variant=\"tonal\" block @click=\"changePassword\">\r\n                Cambiar contraseña\r\n            </v-btn>\r\n        </v-card>\r\n    </div>\r\n    <v-dialog v-model=\"dialogLoader\" :scrim=\"false\" persistent width=\"auto\">\r\n        <v-card color=\"brown-darken-1\">\r\n            <v-card-text>\r\n                Procesando...\r\n                <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { forgetPasswordApi } from '@/api/UsersService';\r\nimport { validateError } from '@/helpers/Validators';\r\nimport { basicAlert } from '@/helpers/SweetAlert';\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n    data: () => ({\r\n        visible: false,\r\n        visible2: false,\r\n    }),\r\n    setup() {\r\n        const router = useRouter();\r\n        const forgetusername = ref(\"\");\r\n        const forgetLastPassword = ref(\"\");\r\n        const forgetNewPassword = ref(\"\");\r\n        const dialogLoader = ref(false);\r\n\r\n        const changePassword = () => {\r\n            dialogLoader.value = true;\r\n            const data = {\r\n                username: forgetusername.value,\r\n                last_password: forgetLastPassword.value,\r\n                new_password: forgetNewPassword.value\r\n            }\r\n            forgetPasswordApi(data)\r\n                .then(() => {\r\n                    dialogLoader.value = false;\r\n                    basicAlert(\r\n                        () => {\r\n                            store.commit(\"setEmail\", \"\");\r\n                            store.commit(\"setUsername\", \"\");\r\n                            store.commit(\"setRole\", \"\");\r\n                            store.commit(\"setIsAuthenticated\", false);\r\n                            router.push(\"/login\");\r\n                        },\r\n                        \"success\",\r\n                        \"Logrado\",\r\n                        \"Se ha cambiado correctamente la contraseña\"\r\n                    );\r\n                })\r\n                .catch((error) => {\r\n                    dialogLoader.value = false;\r\n                    validateError(error.response);\r\n                });\r\n        }\r\n\r\n        return {\r\n            changePassword,\r\n            forgetusername,\r\n            forgetLastPassword,\r\n            forgetNewPassword,\r\n            dialogLoader\r\n        }\r\n    }\r\n}\r\n</script>","import { render } from \"./ChangePassword.vue?vue&type=template&id=25fb8f0c\"\nimport script from \"./ChangePassword.vue?vue&type=script&lang=js\"\nexport * from \"./ChangePassword.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseURL","process","createUserApi","data","axios","post","loginApi","forgetPasswordApi","basicAlert","callback","icon","title","message","Swal","html","showCancelButton","confirmButtonText","confirmButtonColor","reverseButtons","then","result","isConfirmed","validateError","response","status","class","_createElementVNode","_hoisted_1","_createVNode","_component_v_card","elevation","rounded","_hoisted_2","_component_v_btn","variant","color","_hoisted_3","_component_v_text_field","density","placeholder","$setup","forgetusername","$event","_hoisted_4","_ctx","visible","type","forgetLastPassword","_cache","_hoisted_5","visible2","forgetNewPassword","size","block","onClick","changePassword","_component_v_dialog","dialogLoader","scrim","persistent","width","_component_v_card_text","_component_v_progress_linear","indeterminate","setup","router","useRouter","ref","value","username","last_password","new_password","store","commit","push","catch","error","__exports__","render"],"sourceRoot":""}