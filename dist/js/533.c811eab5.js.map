{"version":3,"file":"js/533.c811eab5.js","mappings":"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","sources":["webpack://template_vue_platform/./src/api/UsersService.js","webpack://template_vue_platform/./src/helpers/SweetAlert.js","webpack://template_vue_platform/./src/helpers/Validators.js","webpack://template_vue_platform/./src/views/LoginView.vue","webpack://template_vue_platform/./src/views/LoginView.vue?5755"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function createUserApi(data) {\r\n  return axios.post(`${baseURL}/create_user`, data);\r\n}\r\n\r\nexport function loginApi(data) {\r\n  return axios.post(`${baseURL}/validate_user`, data);\r\n}\r\n\r\nexport function forgetPasswordApi(data) {\r\n  return axios.post(`${baseURL}/change-password`, data);\r\n}\r\n","import Swal from 'sweetalert2';\r\n// Icon: warning, success, error, question, info\r\n\r\nexport function basicAlert(callback, icon, title, message) {\r\n  Swal.fire({\r\n    icon: icon,\r\n    html: `<p class=\"text-lg font-semibold\">${title}</p>\r\n          <p class=\"text-base\">${message}</p>`,\r\n    showCancelButton: false,\r\n    confirmButtonText: 'Aceptar',\r\n    confirmButtonColor: '#006cac',\r\n    reverseButtons: true\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nexport function confirmBasic(callback, message, confirm) {\r\n  Swal.fire({\r\n    icon: 'question',\r\n    html: `<p class=\"text-lg\">${message}</p>`,\r\n    showCancelButton: true,\r\n    reverseButtons: true,\r\n    confirmButtonText: confirm,\r\n    confirmButtonColor: '#3b82f6',\r\n    cancelButtonText: 'Cancelar'\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      callback();\r\n    }\r\n  });\r\n}\r\n","import { basicAlert } from '@/helpers/SweetAlert';\r\n\r\nexport function validateError(response){\r\n    if (response) {\r\n        if (response.status === 400) {\r\n            basicAlert(() => { }, 'error', 'Solicitud incorrecta', 'Los datos proporcionados no son válidos');\r\n        } else {\r\n            basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n        }\r\n    } else {\r\n        basicAlert(() => { }, 'error', 'Error de conexión', 'Hubo un problema de conexión');\r\n    }\r\n}","<template>\r\n  <div class=\"w-full h-full flex justify-center items-center\">\r\n    <div class=\"pb-10\" v-if=\"typeForm == 'LOGIN'\">\r\n      <v-card\r\n        class=\"mx-auto pa-12 pb-8\"\r\n        elevation=\"8\"\r\n        min-width=\"448\"\r\n        max-width=\"600\"\r\n        rounded=\"lg\"\r\n      >\r\n        <div class=\"flex justify-center\">\r\n          <v-btn icon=\"mdi mdi-lock\" variant=\"tonal\" color=\"indigo\"></v-btn>\r\n        </div>\r\n        <div class=\"text-subtitle-1 text-medium-emphasis\">Usuario</div>\r\n\r\n        <v-text-field\r\n          density=\"compact\"\r\n          placeholder=\"Ingrese su usuario\"\r\n          prepend-inner-icon=\"mdi-account\"\r\n          variant=\"outlined\"\r\n          color=\"brown-darken-1\"\r\n          v-model=\"username\"\r\n        ></v-text-field>\r\n\r\n        <div\r\n          class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\"\r\n        >\r\n          Contraseña\r\n        </div>\r\n\r\n        <v-text-field\r\n          :append-inner-icon=\"visible ? 'mdi-eye-off' : 'mdi-eye'\"\r\n          :type=\"visible ? 'text' : 'password'\"\r\n          density=\"compact\"\r\n          placeholder=\"Ingrese su contraseña\"\r\n          prepend-inner-icon=\"mdi-lock-outline\"\r\n          variant=\"outlined\"\r\n          color=\"brown-darken-1\"\r\n          v-model=\"password\"\r\n          @click:append-inner=\"visible = !visible\"\r\n        ></v-text-field>\r\n\r\n        <v-btn\r\n          class=\"mb-8\"\r\n          color=\"brown-darken-1\"\r\n          size=\"large\"\r\n          variant=\"tonal\"\r\n          block\r\n          @click=\"validateCredentials\"\r\n        >\r\n          Ingresar\r\n        </v-btn>\r\n\r\n        <v-card-text class=\"text-center\">\r\n          <router-link to=\"/register\" class=\"item-nav\" href=\"/register\">\r\n            <a\r\n              class=\"text-brown text-decoration-none\"\r\n              href=\"#\"\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\"\r\n            >\r\n              Registrarse <v-icon icon=\"mdi-chevron-right\"></v-icon>\r\n            </a>\r\n          </router-link>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n    <div class=\"pb-10\" v-else-if=\"typeForm == 'FORGET'\">\r\n      <v-card\r\n        class=\"mx-auto pa-12 pb-8\"\r\n        elevation=\"8\"\r\n        min-width=\"448\"\r\n        max-width=\"600\"\r\n        rounded=\"lg\"\r\n      >\r\n        <div class=\"flex justify-center\">\r\n          <v-btn\r\n            icon=\"mdi mdi-key-change\"\r\n            variant=\"tonal\"\r\n            color=\"indigo\"\r\n          ></v-btn>\r\n        </div>\r\n        <div class=\"text-subtitle-1 text-medium-emphasis\">Usuario</div>\r\n\r\n        <v-text-field\r\n          density=\"compact\"\r\n          placeholder=\"Ingrese su usuario\"\r\n          prepend-inner-icon=\"mdi-account\"\r\n          variant=\"outlined\"\r\n          color=\"brown-darken-1\"\r\n          v-model=\"forgetusername\"\r\n        ></v-text-field>\r\n\r\n        <div\r\n          class=\"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between\"\r\n        >\r\n          Nueva Contraseña\r\n        </div>\r\n\r\n        <v-text-field\r\n          :append-inner-icon=\"visible ? 'mdi-eye-off' : 'mdi-eye'\"\r\n          :type=\"visible ? 'text' : 'password'\"\r\n          density=\"compact\"\r\n          placeholder=\"Ingrese su contraseña\"\r\n          prepend-inner-icon=\"mdi-lock-outline\"\r\n          variant=\"outlined\"\r\n          color=\"brown-darken-1\"\r\n          v-model=\"forgetpassword\"\r\n          @click:append-inner=\"visible = !visible\"\r\n        ></v-text-field>\r\n\r\n        <v-btn\r\n          class=\"mb-8\"\r\n          color=\"brown-darken-1\"\r\n          size=\"large\"\r\n          variant=\"tonal\"\r\n          block\r\n          @click=\"changePassword\"\r\n        >\r\n          Cambiar contraseña\r\n        </v-btn>\r\n\r\n        <v-card-text class=\"text-center\">\r\n          <span\r\n            class=\"text-brown text-decoration-none cursor-pointer\"\r\n            @click=\"selectTypeForm('LOGIN')\"\r\n          >\r\n            <v-icon icon=\"mdi-chevron-left\"></v-icon> Login\r\n          </span>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n  <v-dialog v-model=\"dialogLoader\" :scrim=\"false\" persistent width=\"auto\">\r\n    <v-card color=\"brown-darken-1\">\r\n      <v-card-text>\r\n        Procesando...\r\n        <v-progress-linear\r\n          indeterminate\r\n          color=\"white\"\r\n          class=\"mb-0\"\r\n        ></v-progress-linear>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { forgetPasswordApi, loginApi } from \"@/api/UsersService\";\r\nimport { validateError } from \"@/helpers/Validators\";\r\nimport store from \"@/store\";\r\nimport { ref } from \"vue\";\r\nimport { basicAlert } from \"@/helpers/SweetAlert\";\r\n\r\nexport default {\r\n  data: () => ({\r\n    visible: false,\r\n  }),\r\n  setup() {\r\n    const router = useRouter();\r\n    const username = ref(\"\");\r\n    const password = ref(\"\");\r\n    const forgetusername = ref(\"\");\r\n    const forgetpassword = ref(\"\");\r\n    const dialogLoader = ref(false);\r\n    const typeForm = ref(\"LOGIN\");\r\n\r\n    const selectTypeForm = (type) => {\r\n      typeForm.value = type;\r\n    };\r\n\r\n    const validateCredentials = () => {\r\n      dialogLoader.value = true;\r\n      const data = {\r\n        username: username.value,\r\n        password: password.value,\r\n        \r\n      };\r\n      loginApi(data)\r\n        .then((response) => {\r\n          console.log(\"--------------------------------------------\")\r\n          console.log(response.data);\r\n          console.log(\"--------------------------------------------\")\r\n          dialogLoader.value = false;\r\n          store.commit(\"setEmail\", response.data.email);\r\n          store.commit(\"setUsername\", response.data.username);\r\n          store.commit(\"setUserId\", response.data.idUser);\r\n          store.commit(\"setRole\", response.data.admin ? \"ADMIN\" : \"CLIENT\");\r\n          store.commit(\"setIsAuthenticated\", true);\r\n          router.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          dialogLoader.value = false;\r\n          validateError(error.response);\r\n        });\r\n    };\r\n\r\n    const changePassword = () => {\r\n      dialogLoader.value = true;\r\n      const data = {\r\n        username: forgetusername.value,\r\n        new_password: forgetpassword.value,\r\n      };\r\n      forgetPasswordApi(data)\r\n        .then(() => {\r\n          dialogLoader.value = false;\r\n          basicAlert(\r\n            () => {\r\n              typeForm.value = \"LOGIN\";\r\n            },\r\n            \"success\",\r\n            \"Logrado\",\r\n            \"Se ha cambiado correctamente la contraseña\"\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          dialogLoader.value = false;\r\n          validateError(error.response);\r\n        });\r\n    };\r\n\r\n    return {\r\n      validateCredentials,\r\n      changePassword,\r\n      selectTypeForm,\r\n      forgetusername,\r\n      forgetpassword,\r\n      dialogLoader,\r\n      username,\r\n      password,\r\n      typeForm,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=5f3ed720\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["baseURL","process","createUserApi","data","axios","post","loginApi","forgetPasswordApi","basicAlert","callback","icon","title","message","Swal","html","showCancelButton","confirmButtonText","confirmButtonColor","reverseButtons","then","result","isConfirmed","validateError","response","status","class","_createElementVNode","href","rel","target","_hoisted_1","$setup","typeForm","_createElementBlock","_hoisted_2","_createVNode","_component_v_card","elevation","rounded","_hoisted_3","_component_v_btn","variant","color","_hoisted_4","_component_v_text_field","density","placeholder","username","$event","_hoisted_5","_ctx","visible","type","password","_cache","size","block","onClick","validateCredentials","_component_v_card_text","_component_router_link","to","_hoisted_6","_component_v_icon","_hoisted_7","_hoisted_8","_hoisted_9","forgetusername","_hoisted_10","forgetpassword","changePassword","selectTypeForm","_component_v_dialog","dialogLoader","scrim","persistent","width","_component_v_progress_linear","indeterminate","setup","router","useRouter","ref","value","console","log","store","commit","email","idUser","admin","push","catch","error","new_password","__exports__","render"],"sourceRoot":""}